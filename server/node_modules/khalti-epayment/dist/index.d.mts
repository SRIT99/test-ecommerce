/**
 * Represents the request payload for initiating a payment.
 */
interface InitiatePaymentRequest {
    /** URL where the user will be redirected after completing the transaction */
    return_url: string;
    /** The main website URL associated with the transaction */
    website_url: string;
    /** Total amount of the transaction (in Paisa) */
    amount: number;
    /** Unique identifier for the purchase order */
    purchase_order_id: string;
    /** Descriptive name of the purchase order */
    purchase_order_name: string;
    /** Customer's billing information (optional) */
    customer_info?: CustomerInfo;
    /** Detailed breakdown of the total amount (e.g., taxes, fees) (optional) */
    amount_breakdown?: AmountBreakdownItem[];
    /** Details about the products or services included in the transaction (optional) */
    product_details?: ProductDetail[];
    /** Additional merchant-specific information (optional) merchant_info?: MerchantInfo; */
    [key: `merchant_${string}`]: any;
}
/**
 * Contains customer information for billing purposes.
 */
interface CustomerInfo {
    /** Customer's full name */
    name: string;
    /** Customer's email address */
    email: string;
    /** Customer's contact phone number */
    phone: string;
}
/**
 * Represents a single charge item within the amount breakdown.
 */
interface AmountBreakdownItem {
    /** Description of a particular charge within the total amount */
    label: string;
    /** Amount (in Paisa) associated with the label */
    amount: number;
}
/**
 * Holds information about a product included in the transaction.
 */
interface ProductDetail {
    /** Unique identifier for the product */
    identity: string;
    /** Name or description of the product */
    name: string;
    /** Total price for this product (including quantity) */
    total_price: number;
    /** Number of units of this product purchased */
    quantity: number;
    /** Price per single unit of this product */
    unit_price: number;
}
/**
 * Represents the successful response when initiating a payment.
 */
interface InitiatePaymentResponse {
    /**
     * A unique request identifier provided upon success. Use this 'pidx'
     * for future references to this payment.
     */
    pidx: string;
    /** The URL to redirect the user to in order to complete the payment. */
    payment_url: string;
    /** Date and time (likely in ISO format) when the payment link expires. */
    expires_at: string;
    /** Number of seconds until the payment link expires. */
    expires_in: number;
    /** Additional merchant-specific information (optional) merchant_info?: MerchantInfo; */
    [key: `merchant_${string}`]: any;
}

/**
 * Represents the possible statuses of a payment transaction.
 */
type PaymentStatus = "Completed" | "Pending" | "Refunded" | "Expired" | "UserCanceled" | "PartiallyRefunded" | "Initiated";
/**
 * Represents the request payload for the payment lookup API.
 */
interface PaymentLookupRequest {
    /** The initial payment identifier. */
    pidx: string;
}
/**
 * Represents the base structure of a successful lookup API response.
 */
interface PaymentLookupGeneralResponse {
    /** The initial payment identifier. */
    pidx: string;
    /** The total amount of the transaction (in what currency? Assuming Paisa here). */
    total_amount: number;
    /** The unique transaction identifier assigned by Khalti. */
    transaction_id: string | null;
    /** The fee associated with the transaction. */
    fee: number;
    /** Indicates whether the transaction has been refunded. */
    refunded: boolean;
    /** The current status of the transaction. */
    status: PaymentStatus;
}
/**
 * Represents a specific lookup response for a 'Success' transaction.
 */
interface PaymentLookupSuccessResponse extends PaymentLookupGeneralResponse {
    status: "Completed";
}
/**
 * Represents a specific lookup response for a 'Pending' transaction.
 */
interface PaymentLookupPendingResponse extends PaymentLookupGeneralResponse {
    status: "Pending";
    transaction_id: null;
}
/**
 * Represents a specific lookup response for an 'Initiated' transaction.
 */
interface PaymentLookupInitiatedResponse extends PaymentLookupGeneralResponse {
    status: "Initiated";
}
/**
 * Represents a specific lookup response for a 'Refunded' transaction.
 */
interface PaymentLookupRefundedResponse extends PaymentLookupGeneralResponse {
    status: "Refunded";
    refunded: true;
}
/**
 * Represents a specific lookup response for an 'Expired' transaction.
 */
interface PaymentLookupExpiredResponse extends PaymentLookupGeneralResponse {
    status: "Expired";
    transaction_id: null;
}
/**
 * Represents a specific lookup response for a 'UserCanceled' transaction.
 */
interface PaymentLookupCanceledResponse extends PaymentLookupGeneralResponse {
    status: "UserCanceled";
    transaction_id: null;
}
type AllLookupResponse = PaymentLookupSuccessResponse | PaymentLookupPendingResponse | PaymentLookupInitiatedResponse | PaymentLookupRefundedResponse | PaymentLookupExpiredResponse | PaymentLookupCanceledResponse;

/**
 * Creates a configured Khalti instance for handling payments for us.
 *
 * @param env - The environment to use (`sandbox` or `production`).
 * @param secretKey - The Khalti live secret key.
 * @returns An object with `paymentLookup` and `initiatePayment` functions bound to the instance.
 */
declare const createKhaltiInstance: ({ env, secretKey, }: {
    env: "sandbox" | "production";
    secretKey: string;
}) => {
    paymentLookup: ({ pidx }: PaymentLookupRequest) => Promise<AllLookupResponse>;
    initiatePayment: (payload: InitiatePaymentRequest) => Promise<InitiatePaymentResponse>;
};

export { createKhaltiInstance };
